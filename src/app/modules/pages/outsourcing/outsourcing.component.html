<div class="container">
  <div class="text-center">
    <h1 class="mt-3">Cotizador de Servicios de Outsourcing</h1>
  </div>
  <form (ngSubmit)="onSubmit()" [formGroup]="myForm">
  <div class="row mt-4">
    <div class="col-md-5">
      <div class="form-group">
        <label>Seleccione un servicio:</label>
        <select class="form-select form-select-sm" style="width: 70%;" formControlName="servicio">
          <option value="">Seleccione Servicio</option>
          <option *ngFor="let servicio of servicios" [value]="servicio.codigo">{{ servicio.descripcion }}</option>
        </select>
        <!--<div *ngIf="servicioPresionado && myForm.get('servicio')?.hasError('required')" class="text-danger">
          El servicio es requerido.
        </div>-->
      </div>
      <div class="form-group">
        <label>Seleccione un sub-servicio:</label>
        <select class="form-select form-select-sm" style="width: 70%;" formControlName="subServicio">
          <option value="">Seleccione un sub-servicio</option>
          <option *ngFor="let subServicio of subServicios" [value]="subServicio.precio">{{ subServicio.descripcion }}</option>
        </select>
        <!--<div *ngIf="servicioPresionado && myForm.get('subServicio')?.hasError('required')" class="text-danger">
          El sub-servicio es requerido.
        </div>-->
        </div>

      <div class="form-group">
      <h5 class="mt-3">2. Horas por Servicio</h5>
      <div class="col-md-10">
        <input placeholder="Ejm:2" class="form-control" type="number" formControlName="horasServicio" name="horaServicio" min="1">
      </div>
        <!--<div *ngIf="servicioPresionado && myForm.get('horasServicio')?.hasError('required')" class="text-danger">
          El campo hora es requerido.
        </div>-->
        </div>

      <div class="form-group">
      <h5 class="mt-3">3. Cantidad de Analistas</h5>
      <div class="col-md-10">
        <input placeholder="Ejm:100" class="form-control" type="number" formControlName="cantAnalistas" name="cantidadAnalistas" min="0">
      </div>
        <!--<div *ngIf="servicioPresionado && myForm.get('cantAnalistas')?.hasError('required')" class="text-danger">
          El campo cantidad de analistas es requerido.
        </div>-->
        </div>

        <div class="form-group">
        <h5 class="mt-3">4. Tipo de Modalidad</h5>
        <div *ngFor="let modalidad of modalidades; let i = index" class="form-check">
          <input class="form-check-input" type="radio" [id]="'radio' + i" [name]="'tipoModalidad'" [formControlName]="'tipoModalidad'" [value]="modalidad.porcentaje">
          <label class="form-check-label" [for]="'radio' + i">
            {{ modalidad.descripcion }}
          </label>
        </div>
          <!--<div *ngIf="servicioPresionado && myForm.get('tipoModalidad')?.hasError('required')" class="text-danger">
            La modalidad es requerido.
          </div>-->
          </div>
          <div class="row mt-3">
            <div class="col-md-3">
              <button type="submit" class="btn btn-primary">COTIZAR</button>
            </div>
            <div class="col-md-3">
              <button type="button" class="btn btn-secondary" (click)="cleanForm()">LIMPIAR</button>
            </div>
          </div>
        </div>
        <div class="col-md-7">
          <div class="row mt-3">
          <div class="css-grid-table">
            <div class="css-grid-table-header" style="border-bottom: 1px solid;">
              <div class="css-left">Detalle</div>
              <div class="css-right">Cantidad</div>
              <div class="css-right">Total $</div>
            </div>
            <div class="css-grid-table-body">
              <div class="css-left">Servicio + SubServicio <br>(Incluye HS y CA)</div>
              <div class="css-right" style="line-height: 4;"></div>
              <div class="css-right" style="line-height: 4;">{{totalServicioAndSubservicio}}</div>

              <div class="css-left">Modalidad HÃ­brida</div>
              <div class="css-right"> </div>
              <div class="css-right">{{totalModalidad}}</div>

              <div class="css-left"> </div>
          <div class="css-right">Total por hora $</div>
          <div class="css-right css-total">0</div>

              <div class="css-left"> </div>
              <div class="css-right">Total $</div>
              <div class="css-right css-total">{{totalPagarServicios}}</div>

          <div class="css-right">
            <button type="button" class="btn btn-success" [routerLink]="['/listadoOutsourcing']">Ver Cotizaciones</button>
          </div>
          <div class="css-right">
            <a class="btn btn-secondary" [routerLink]="['/main']" role="button">RETORNAR</a>
          </div>
          <div class="css-right">
            <button type="button" class="btn btn-success" (click)="grabarCotizacionOutsourcing()">GRABAR</button>
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>
</form>
</div>
